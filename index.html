<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ecos de Louvor</title>
  <link rel="manifest" href="manifest.json" />
  <style>
    body { font-family: sans-serif; margin: 0; padding: 1rem; background: #f9fafb; }
    header { background: #2563eb; color: white; padding: 1rem; text-align: center; font-size: 1.4rem; }
    input { padding: 0.6rem; width: 100%; max-width: 400px; margin: 1rem auto; display: block; border-radius: 8px; border: 1px solid #ccc; }
    .hymn-card {
      background: white; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      width: 300px; padding: 1rem; margin: 1rem auto;
    }
    .hymn-card h3 { margin: 0.5rem 0; }
    .hymn-card p { margin: 0.5rem 0; color: #374151; }
    .hymn-card small { color: #6b7280; }
    .controls { text-align: center; margin-top: 1rem; }
    .fav-btn { background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #ef4444; }
    .chords { display: none; background: #f0f0f0; padding: 0.5rem; border-radius: 6px; margin-top: 0.5rem; }
  </style>
</head>
<body>
  <header>Ecos de Louvor</header>
  <input type="text" id="searchInput" placeholder="Buscar por t√≠tulo, n√∫mero ou categoria..." oninput="filtrarHinos()" />

  <div id="listaHinos"></div>

  <script>
    const hinos = [
      {
        id: 'hcc-120',
        hinario: 'HCC 120',
        titulo: 'Maravilhosa Gra√ßa',
        letra: 'Maravilhosa gra√ßa! Maior que o meu pecar...',
        acordes: 'C   G   Am   F\nMaravilhosa gra√ßa...',
      },
      {
        id: 'canticos-1',
        hinario: 'C√¢nticos 1',
        titulo: 'Ao √önico',
        letra: 'Ao √∫nico que √© digno de receber...',
        acordes: 'Em   C   G   D\nAo √∫nico que √© digno...',
      }
    ];

    const favoritos = JSON.parse(localStorage.getItem('favoritos') || '[]');

    function renderizarHinos() {
      const container = document.getElementById('listaHinos');
      container.innerHTML = '';
      hinos.forEach(hino => {
        const isFav = favoritos.includes(hino.id);
        const card = document.createElement('div');
        card.className = 'hymn-card';
        card.innerHTML = `
          <div style="display:flex; justify-content:space-between;">
            <small>${hino.hinario}</small>
            <button class="fav-btn" onclick="toggleFavorito('${hino.id}')">${isFav ? '‚ô•' : '‚ô°'}</button>
          </div>
          <h3>${hino.titulo}</h3>
          <p>${hino.letra}</p>
          <button onclick="toggleAcordes('${hino.id}')">üé∏ Mostrar Acordes</button>
          <pre id="acordes-${hino.id}" class="chords">${hino.acordes}</pre>
        `;
        container.appendChild(card);
      });
    }

    function toggleFavorito(id) {
      const idx = favoritos.indexOf(id);
      if (idx >= 0) favoritos.splice(idx, 1);
      else favoritos.push(id);
      localStorage.setItem('favoritos', JSON.stringify(favoritos));
      renderizarHinos();
    }

    function toggleAcordes(id) {
      const acordes = document.getElementById('acordes-' + id);
      acordes.style.display = acordes.style.display === 'block' ? 'none' : 'block';
    }

    function filtrarHinos() {
      const termo = document.getElementById('searchInput').value.toLowerCase();
      document.querySelectorAll('.hymn-card').forEach(card => {
        const texto = card.textContent.toLowerCase();
        card.style.display = texto.includes(termo) ? 'block' : 'none';
      });
    }

    renderizarHinos();
  </script>

  <div id="adminLogin" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#00000080; align-items:center; justify-content:center;">
    <div style="background:white; padding:2rem; border-radius:10px; max-width:400px; margin:auto;">
      <h3>üîê Acesso Administrativo</h3>
      <input type="password" id="senhaAdmin" placeholder="Digite a senha..." style="padding:0.5rem; width:100%; margin:1rem 0;" />
      <div style="text-align:right;">
        <button onclick="verificarSenha()">Entrar</button>
        <button onclick="document.getElementById('adminLogin').style.display='none'">Cancelar</button>
      </div>
    </div>
  </div>

  <div id="painelAdmin" style="display:none; padding:1rem;">
    <h2>Painel do Administrador</h2>
    <p>Total de hinos: <span id="totalHinos">2</span></p>
    <p>Total com acordes: <span id="totalComAcordes">2</span></p>
    <button onclick="exibirFormularioNovoHino()">+ Adicionar Novo Hino</button>
    <div id="formNovoHino" style="display:none; margin-top:1rem;">
      <input id="novoHinario" placeholder="Hin√°rio" /><br/>
      <input id="novoTitulo" placeholder="T√≠tulo" /><br/>
      <textarea id="novaLetra" placeholder="Letra" rows="3"></textarea><br/>
      <textarea id="novosAcordes" placeholder="Acordes" rows="2"></textarea><br/>
      <button onclick="salvarNovoHino()">Salvar</button>
    </div>
  </div>

  <script>
    let adminAtivo = false;

    document.querySelector('.fa-lock').onclick = () => {
      document.getElementById('adminLogin').style.display = 'flex';
    };

    function verificarSenha() {
      const senha = document.getElementById('senhaAdmin').value;
      if (senha === '1234') {
        adminAtivo = true;
        document.getElementById('adminLogin').style.display = 'none';
        document.getElementById('painelAdmin').style.display = 'block';
        alert('Acesso concedido!');
      } else {
        alert('Senha incorreta.');
      }
    }

    function exibirFormularioNovoHino() {
      document.getElementById('formNovoHino').style.display = 'block';
    }

    function salvarNovoHino() {
      const id = 'novo-' + Date.now();
      const hinario = document.getElementById('novoHinario').value || 'Manual';
      const titulo = document.getElementById('novoTitulo').value || 'Sem t√≠tulo';
      const letra = document.getElementById('novaLetra').value || '';
      const acordes = document.getElementById('novosAcordes').value || '';

      hinos.push({ id, hinario, titulo, letra, acordes });
      renderizarHinos();
      alert('Hino adicionado com sucesso.');
    }
  </script>
</body>
</html>

</html>